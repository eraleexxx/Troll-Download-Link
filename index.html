<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descarga en progreso...</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #verificacion {
            display: none;
        }
        #botonDescarga {
            display: none;
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 18px;
            background-color: green;
            color: white;
            border: none;
            cursor: pointer;
        }
        #botonTxt {
            margin-top: 20px;
            padding: 10px 15px;
            font-size: 16px;
            background-color: blue;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <h1>Verificación requerida</h1>
    <p>Ingresa la contraseña para continuar:</p>
    
    <!-- Botón para descargar el TXT -->
    <button id="botonTxt" onclick="descargarTxt()">Descargar contraseña</button>

    <div id="passwordCheck">
        <input type="password" id="passwordInput" placeholder="Escribe la contraseña">
        <button onclick="verificarPassword()">Enviar</button>
    </div>

    <div id="verificacion">
        <h1>Preparando tu descarga...</h1>
        <p>Por favor, espera <span id="contador">10</span> segundos.</p>
        <button id="botonDescarga">Descargar</button>
    </div>

    <script>
        // Descargar automáticamente el archivo TXT al entrar en la web
        window.onload = function() {
            const contenido = "Contraseña: steamfreegames626";
            const blob = new Blob([contenido], { type: "text/plain" });
            const enlace = document.createElement("a");
            enlace.href = URL.createObjectURL(blob);
            enlace.download = "contraseña.txt";
            enlace.click();
        };

        // Botón para descargar el TXT manualmente y luego desaparecer
        function descargarTxt() {
            const contenido = "Contraseña: steamfreegames626";
            const blob = new Blob([contenido], { type: "text/plain" });
            const enlace = document.createElement("a");
            enlace.href = URL.createObjectURL(blob);
            enlace.download = "contraseña.txt";
            enlace.click();

            // Ocultar el botón después de hacer clic
            document.getElementById("botonTxt").style.display = "none";
        }

        function verificarPassword() {
            let password = document.getElementById("passwordInput").value;
            if (password.trim() === "steamfreegames626") {  // Contraseña correcta
                document.getElementById("passwordCheck").style.display = "none";
                document.getElementById("verificacion").style.display = "block";

                // Iniciar contador
                let segundos = 10;
                const contador = document.getElementById("contador");
                const botonDescarga = document.getElementById("botonDescarga");

                const intervalo = setInterval(() => {
                    segundos--;
                    contador.textContent = segundos;
                    if (segundos <= 0) {
                        clearInterval(intervalo);
                        botonDescarga.style.display = "inline-block";
                    }
                }, 1000);

                // Redirigir al troll.html al hacer clic en descargar
                botonDescarga.addEventListener("click", () => {
                    window.location.href = "troll.html";
                });

            } else {
                alert("Contraseña incorrecta. Inténtalo de nuevo.");
            }
        }
    </script>

</body>
</html>
